<!DOCTYPE html>
<html>


<!--

TODO: Scroll side menu

-->



<head>
  <title>Blogging For Fun</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    html,
    body,
    h1,
    h2,
    h3,
    h4,
    h5 {
      font-family: "Roboto", sans-serif;
      font-weight: 400;
    }

    h1 {
      font-size: 60px;
    }


    table,
    th,
    td {
      border: 2px solid black;
      padding: 0px;
    }

    table {
      border-collapse: collapse;
    }

    td:nth-child(2),
    th:nth-child(2),
    td:nth-child(3),
    th:nth-child(3) {
      padding: 2px;
    }

    td:nth-child(3),
    th:nth-child(3) {
      padding: 2px;
      text-align: center;
    }


    .w3-col.m7 {

      /* Adjust height as needed */
      height: 100vh;
      overflow-y: auto;
      /* Enable vertical scrolling */
    }

    .post-header {
      height: 280px;
      background-color: #f1f1f1;
      border-radius: 20px;
      padding: 10px;
      margin-bottom: 10px;
    }

    .post-container {

      overflow-y: auto;
      /* Enable vertical scrolling */
      font-size: 18px;
      /* Adjust font size as needed */
    }

    .input-form {
      display: none;
      /* Hide the form initially */
    }

    .hidden {
      display: none;
    }
  </style>

  <script src="content.js"></script>



  <script>


    const readOnly = false;
    const onePost = true; // Set to true to show only one post at a time

    window.onload = function () {
      renderPosts();
      generateSideMenu();
    };


    function generateSideMenu() {
      const sideMenu = document.getElementById("side-menu");
      sideMenu.innerHTML = "";
      const posts = CRUD.getAllPosts();

      posts.forEach((post) => {
        const menuItem = document.createElement("button");
        menuItem.className = "w3-button w3-block w3-theme-l4";
        menuItem.style.marginBottom = "5px";
        menuItem.style.display = "flex"; // Align image and text horizontally
        menuItem.style.alignItems = "center"; // Center-align image and text

        // Add an image to the button
        const img = document.createElement("img");
        img.src = `images/${post.image}`; // Use the post's image
        img.alt = post.headline;
        img.style.width = "30px"; // Set image size
        img.style.height = "30px";
        img.style.marginRight = "10px"; // Add spacing between image and text

        // Add text to the button
        const text = document.createTextNode(post.headline || "Untitled Post");

        // Append image and text to the button
        menuItem.appendChild(img);
        menuItem.appendChild(text);

        // Add click functionality
        menuItem.onclick = () => {


          const targetPost = document.getElementById(post.key);
          const middleColumn = document.querySelector(".w3-col.m7");


          //  hide em all
          if (onePost) {
            document.querySelectorAll(".post").forEach((post) => {
              post.style.display = "none";
            });
            // show the one with post.key
            targetPost.style.display = "block";
          }


          if (targetPost && middleColumn) {
            middleColumn.scrollTo({
              top: targetPost.offsetTop - middleColumn.offsetTop,
              behavior: "smooth",
            });
          }

        };

        sideMenu.appendChild(menuItem);
      });
    }





    function togglePost() {
      const thisButton = this;
      const post = thisButton.closest(".post");
      const content = post.querySelector(".content");
      if (content.style.display === "none" || !content.style.display) {
        content.style.display = "block";
        thisButton.textContent = "Read Less";
      } else {
        content.style.display = "none";
        thisButton.textContent = "Read More";
      }
    }

    function expandAll() {
      document.querySelectorAll(".content").forEach((content) => {
        content.style.display = "block";
      });
      document.querySelectorAll(".post button[aria-label='Toggle post content'], .w3-card-4 button[aria-label='Toggle welcome post content']").forEach((button) => {
        button.textContent = "Read Less";
      });
    }

    function collapseAll() {
      document.querySelectorAll(".content").forEach((content) => {
        content.style.display = "none";
      });
      document.querySelectorAll(".post button[aria-label='Toggle post content'], .w3-card-4 button[aria-label='Toggle welcome post content']").forEach((button) => {
        button.textContent = "Read More";
      });
    }

    class CRUD {
      static createPost(key, value) {
        try {
          localStorage.setItem(key, JSON.stringify(value));
        } catch (e) {
          console.error("Error saving post:", e);
        }
      }

      static retrievePost(key) {
        try {
          const data = localStorage.getItem(key);
          return data ? JSON.parse(data) : null;
        } catch (e) {
          console.error("Error retrieving post:", e);
          return null;
        }
      }

      static updatePost(key, value) {
        this.createPost(key, value);
      }

      static deletePost(key) {
        try {
          localStorage.removeItem(key);
        } catch (e) {
          console.error("Error deleting post:", e);
        }
      }

      static getAllPosts() {
        const posts = [];
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          if (key.startsWith("post-") || true) {
            const post = this.retrievePost(key);
            if (post) posts.push(post);
          }
        }
        return posts.sort((a, b) => new Date(b.date) - new Date(a.date));
      }

      static deleteAllPosts() {
        localStorage.clear();
        alert("All posts have been deleted.");
      }
    }

    function renderPosts() {
      const postContainer = document.querySelector(".post-container");
      if (!postContainer) {
        console.error("post-container not found");
        return;
      }

      // Clear only dynamic posts
      const existingPosts = postContainer.querySelectorAll(".post");
      existingPosts.forEach(post => post.remove());

      if (readOnly)
        var posts = postsContent;

      else
        var posts = CRUD.getAllPosts();



      posts.forEach((post) => {
        const postElement = document.createElement("div");
        postElement.id = post.key;
        postElement.className = "post";
        postElement.style.cssText = "background-color:beige; padding: 12px; margin-bottom: 10px;";
        postElement.innerHTML = `
      <div class="w3-card-4 post-header" style="width:100%;margin-bottom:20px;border-radius: 5px;">
        <header class="w3-container w3-light-grey">
          <h3>${post.headline}</h3>
        </header>
        <div class="w3-container">
          <img src="images/${post.image}" alt="Image for ${post.headline}" class="w3-left w3-margin-right" style="width:150px;margin-bottom:10px">
          <p>${post.teaser}</p><br>
          <div class="w3-right w3-margin-top">
        
          </div>
        </div>
        <div style="height:40px;style="background-color: pink;">


    <button style="margin-left:20px" onclick="editPost('${post.key}')">Edit</button>
            <button onclick="deletePost('${post.key}')">Delete</button>


          <button style="float:right;margin-top: 0px;margin-right:10px" onclick="togglePost.call(this)" aria-label="Toggle post content">Read More</button>
        </div>
      </div>
      <div class="content w3-justify" style="display:none">${post.content}</div>
    `;
        postContainer.appendChild(postElement);
      });

      generateSideMenu();
    }

    /*
    function editPost(postKey) {
      const post = CRUD.retrievePost(postKey);
      const oldImage = post.image;
      if (post) {
        document.getElementById("post-key").value = post.key;
        document.getElementById("post-headline").value = post.headline;
        document.getElementById("post-teaser").value = post.teaser;
        document.getElementById("post-content").value = post.content;
        document.getElementById("post-date").value = post.date;
        document.getElementById("new-post-form").dataset.editing = "true";
        document.getElementById("new-post-form").onsubmit = (e) => {
          e.preventDefault();
          const updatedPost = {
            key: document.getElementById("post-key").value,
            headline: document.getElementById("post-headline").value,
            teaser: document.getElementById("post-teaser").value,
            content: document.getElementById("post-content").value,
            image: document.getElementById("post-image").files[0] ? document.getElementById("post-image").files[0].name : post.image,
            date: document.getElementById("post-date").value || post.date,

          };

          if (updatedPost.image == "default.jpg")
            updatedPost.image = oldImage;


          CRUD.updatePost(updatedPost.key, updatedPost);
          renderPosts();
          e.target.reset();
          document.getElementById("new-post-form").dataset.editing = "";
          document.getElementById("new-post-form").onsubmit = null;
        };
      }
    }
*/

    function setupPostForm() {

      const formContainer = document.querySelector(".input-form");
      if (formContainer) {
        formContainer.style.display = "block"; // Show the form


        // Scroll the form into view
        formContainer.scrollIntoView({
          behavior: "smooth", // Smooth scrolling
          block: "start", // Align to the top of the block
        });

      }

      // Reset the form fields for creating a new post
      const form = document.getElementById("new-post-form");
      if (!form.dataset.editing) {
        form.reset(); // Reset the form only if not editing
        document.getElementById("post-key").value = Date.now(); // Generate a new unique key


        const postType = document.getElementById("editType");
        postType.innerHTML = "Create Post";


      }


      form.onsubmit = (e) => {
        e.preventDefault();
        console.log("Form submitted!"); // Debugging statement
        const key = document.getElementById("post-key").value;
        const error = document.getElementById("post-key-error");

        // Check for duplicate keys only when creating a new post
        if (!form.dataset.editing && CRUD.retrievePost(key)) {
          error.style.display = "block";
          return;
        }
        error.style.display = "none";

        const post = {
          key: document.getElementById("post-key").value,
          headline: document.getElementById("post-headlinex").value,
          teaser: document.getElementById("post-teaser").value,
          content: document.getElementById("post-content").value,


          image: document.getElementById("post-imagex").files[0]
            ? document.getElementById("post-imagex").files[0].name
            : document.getElementById("current-image").textContent.replace("Current Image: ", ""),





          date: document.getElementById("post-date").value || new Date().toISOString().split("T")[0],
        };

        if (form.dataset.editing) {
          // Update the existing post
          CRUD.updatePost(post.key, post);
        } else {
          // Create a new post
          if (post.key == "")
            alert("Key is empty. Please enter a valid key.");
          else {
            alert("new post");
            CRUD.createPost(post.key, post);
          }
        }

        renderPosts(); // Re-render the posts
        form.reset(); // Reset the form
        form.dataset.editing = ""; // Clear editing mode
        formContainer.style.display = "none"; // Hide the form
      };
    }


    function editPost(postKey) {



      const post = CRUD.retrievePost(postKey); // Retrieve the post data
      if (post) {
        const formContainer = document.querySelector(".input-form");
        if (formContainer) {
          formContainer.style.display = "block"; // Show the form

          // Scroll the form into view
          formContainer.scrollIntoView({
            behavior: "smooth", // Smooth scrolling
            block: "start", // Align to the top of the block
          });

          const editType = document.getElementById("editType");
          editType.innerHTML = "Edit Post"; // Change the form title to "Edit Post"



        }

        // Populate the form fields with the post's data
        document.getElementById("post-key").value = post.key;
        document.getElementById("post-headlinex").value = post.headline;
        document.getElementById("post-teaser").value = post.teaser;
        document.getElementById("post-content").value = post.content;
        document.getElementById("post-date").value = post.date || "";

        // Display the current image filename
        const currentImageElement = document.getElementById("current-image");
        currentImageElement.textContent = `Current Image: ${post.image || "None"}`;



        // Set the form to edit mode
        const form = document.getElementById("new-post-form");
        form.dataset.editing = "true";

        setupPostForm();
      }
    }






    function deletePost(postKey) {
      if (confirm("Delete this post?")) {
        CRUD.deletePost(postKey);
        renderPosts();
      }
    }


    function hideForm() {
      const formContainer = document.querySelector(".input-form");
      if (formContainer) {
        formContainer.style.display = "none"; // Hide the form
      }
    }



    function downloadPosts() {
      const posts = CRUD.getAllPosts();
      const data = JSON.stringify(posts, null, 2);
      const blob = new Blob([data], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "blog-posts.json";
      a.click();
      URL.revokeObjectURL(url);
    }

    function uploadPosts() {
      const input = document.createElement("input");
      input.type = "file";
      input.accept = ".json";
      input.onchange = (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (event) => {
            try {
              const posts = JSON.parse(event.target.result);
              posts.forEach((post) => {
                if (!CRUD.retrievePost(post.key)) {
                  CRUD.createPost(post.key, post);
                }
              });
              renderPosts();
              alert("Posts uploaded successfully!");
            } catch (e) {
              console.error("Error uploading posts:", e);
              alert("Failed to upload posts. Please check the JSON format.");
            }
          };
          reader.readAsText(file);
        }
      };
      input.click();
    }

    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("new-post-form");

    });

    // Initialize posts
    let testPost = {
      key: "post1",
      headline: "Test Post",
      teaser: "Attract the user interest",
      content: `
    <p>This is the content of the test post.</p>
    <p>It can be long and detailed.</p>
    <p>It can include multiple paragraphs, lists, and other formatting.</p>
    <p>It can also include HTML elements like <strong>bold text</strong> or <em>italic text</em>.</p>
  `,
      image: "blogging.jpg",
      date: "2023-10-01",
    };

    const initialPosts = [
      {
        key: "post-1",
        headline: "Try to Catch the Wind",
        teaser: "Reflecting on AI and programming history",
        content: `
      <p>No, nothing to do with eating Brussel sprouts. I was provoked this morning by reading about upcoming developments in Copilot AI inside GitHub (Microsoft), which would seem a natural match. It made me think how far we have come in my memory, and speculate where we will go to next. A.I. has moved so quickly that to me, just as I start to grok it, it morphs into something else, like the hydra, but maybe in a good way.</p>
      <p>My first program was written in Secondary school in Mr. Copley’s class. Mr. Copley was famous for his R.E. classes so it was a little strange that he should pop up in the maths department. I had already learned some things from the Open University TV about Boolean logic, analogue v digital, simple programming languages like Basic and Algol, but I was yet to get the baptism of running my first program.</p>
      <p>The teacher gave us the basic outline, and demonstrated how Fortran did its thing with some examples. Then we were told to get out our notebooks and write a simple program. Next lesson, we got some punch cards and a magnetic pencil and converted each symbol into three marks in every column. This was sent away somewhere and returned together with a printout of the code. I don’t remember a hand punch entering the loop anywhere. Long story short I eventually got the output from my program. For the record it was calculating various scenarios of the taps and baths problem. It worked!</p>
      <p>There I left it, through 6th form nothing. University, nothing. Post Grad, back to Fortran, a bit of PDP assembler, and some interactive Basic. Never saw a graphic terminal till someone in a lab acquired a Commodore Pet. It played poker.</p>
      <p>Eventually I got a job and became a Junior Programmer. 25 or so years in the industry, partly as a contractor, I was able to see how it evolved from close up. The PC was a new thing, which I didn’t acquire for many years, but I saw technologies, languages, paradigms come and go. Languages included Cobol, Dibol, Fortran, C, C++, Basic and a few oddballs. I loved it. I would make sure to get my copy of Byte every month, got an AOL account. The days of buying a book, or a bit of software then emailing the author and expecting a reply.</p>
      <p>Now for A.I. It seemed at first to be something I didn’t understand that people used to make funny photos and present them to you. It was quite a buzz, and the rise of the chatbots—whether the proverbial Mother or Grandmother is using ChatGPT on a regular basis, I think not.</p>
      <p>The news today enthusing about what the beta versions of the GitHub Copilot team could do left me a bit stunned.</p>
   
    `,
        image: "blogging.jpg",
        date: "2023-10-02",
      },
      {
        key: "post-2",
        headline: "Come back little Sheba",
        teaser: "Exploring offstage characters in literature and media",
        content: `
      <p>In an earlier post I alluded to the names of our border collie dogs, the senior of which is Sheba. She was so named after an old dog of my mother’s, but in turn this dog was named for a Hollywood Movie “Come Back, Little Sheba”. Sheba disappears months before the start of the film and never appears. It is implied that Sheba is presumed dead. It stars Burt Lancaster, and Shirley Booth, who got a Best Actress Oscar in 1953 for it. I began to wonder if there is a term for such characters and yes Gemini informed me thus:</p>
      <p>Yes, there is! That type of character is called an offstage character or an unseen character.</p>
      <p>These characters are important to the plot and the development of other characters, even though the audience never actually sees them. They might be mentioned in dialogue, have actions attributed to them, or even influence the events of the play.</p>
      ations of the onstage characters.</p>
  
    `,
        image: "puppy.jpg",
        date: "2023-10-03",
      },
    ];

    // Initialize posts if not already in localStorage
    /*
    initialPosts.forEach((post) => {
      if (!CRUD.retrievePost(post.key)) {
        CRUD.createPost(post.key, post);
      }
    });
*/
    //  if (!CRUD.retrievePost(testPost.key)) {
    //    CRUD.createPost(testPost.key, testPost);
    // }






  </script>
</head>

<body class="w3-theme-l5">
  <!-- Navbar -->
  <div class="w3-top">
    <div class="w3-bar w3-theme-d2 w3-left-align w3-large hidden">
      <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-theme-d2"
        href="javascript:void(0);" onclick="openNav()"><i class="fa fa-bars"></i></a>
      <a href="#" class="w3-bar-item w3-button w3-padding-large w3-theme-d4"><i
          class="fa fa-home w3-margin-right"></i>Logo</a>
      <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white" title="News"><i
          class="fa fa-globe"></i></a>
      <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white"
        title="Account Settings"><i class="fa fa-user"></i></a>
      <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white" title="Messages"><i
          class="fa fa-envelope"></i></a>
      <div class="w3-dropdown-hover w3-hide-small">
        <button class="w3-button w3-padding-large" title="Notifications"><i class="fa fa-bell"></i><span
            class="w3-badge w3-right w3-small w3-green">3</span></button>
        <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:300px">
          <a href="#" class="w3-bar-item w3-button">One old friend request</a>
          <a href="#" class="w3-bar-item w3-button">John Doe posted on your wall</a>
          <a href="#" class="w3-bar-item w3-button">Jane likes your post</a>
        </div>
      </div>
      <a href="#" class="w3-bar-item w3-button w3-hide-small w3-right w3-padding-large w3-hover-white"
        title="My Account">
        <img src="https://w3schools.com/w3images/avatar2.png" class="w3-circle" style="height:23px;width:23px"
          alt="Avatar">
      </a>
    </div>
  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-theme-d2 w3-hide w3-hide-large w3-hide-medium w3-large">
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 1</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 2</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 3</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">My Profile</a>
  </div>

  <!-- Page Container -->
  <div class="w3-container w3-content" style="max-width:1400px;margin-top:10px">
    <!-- The Grid -->
    <div class="w3-row">
      <!-- Left Column -->
      <div class="w3-col m2">
        <!-- Profile -->
        <div class="w3-card w3-round w3-white">
          <div class="w3-container">
            <h4 class="w3-center">My Profile Here</h4>
            <p class="w3-center"><img src="https://w3schools.com/w3images/avatar3.png" class="w3-circle"
                style="height:106px;width:106px" alt="Profile picture"></p>
            <hr>
            <p><i class="fa fa-pencil fa-fw w3-margin-right w3-text-theme"></i> Designer, UI</p>
            <p><i class="fa fa-home fa-fw w3-margin-right w3-text-theme"></i> London, UK</p>
            <p><i class="fa fa-birthday-cake fa-fw w3-margin-right w3-text-theme"></i> April 1, 1988</p>
          </div>
        </div>
        <br>

        <!-- Accordion -->
        <div class="w3-card w3-round">
          <div class="w3-white">
            <button onclick="myFunction('Demo1')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i
                class="fa fa-circle-o-notch fa-fw w3-margin-right"></i> My Groups</button>
            <div id="Demo1" class="w3-hide w3-container">
              <p>Some text..</p>
            </div>
            <button onclick="myFunction('Demo2')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i
                class="fa fa-calendar-check-o fa-fw w3-margin-right"></i> My Events</button>
            <div id="Demo2" class="w3-hide w3-container">
              <p>Some other text..</p>
            </div>
            <button onclick="myFunction('Demo3')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i
                class="fa fa-users fa-fw w3-margin-right"></i> My Photos</button>
            <div id="Demo3" class="w3-hide w3-container">
              <div class="w3-row-padding">
                <br>
                <div class="w3-half">
                  <img src="https://w3schools.com/w3images/lights.jpg" style="width:100%" class="w3-margin-bottom">
                </div>
                <div class="w3-half">
                  <img src="https://w3schools.com/w3images/nature.jpg" style="width:100%" class="w3-margin-bottom">
                </div>
                <div class="w3-half">
                  <img src="https://w3schools.com/w3images/mountains.jpg" style="width:100%" class="w3-margin-bottom">
                </div>
                <div class="w3-half">
                  <img src="https://w3schools.com/w3images/forest.jpg" style="width:100%" class="w3-margin-bottom">
                </div>
                <div class="w3-half">
                  <img src="https://w3schools.com/w3images/nature.jpg" style="width:100%" class="w3-margin-bottom">
                </div>
                <div class="w3-half">
                  <img src="https://w3schools.com/w3images/snow.jpg" style="width:100%" class="w3-margin-bottom">
                </div>
              </div>
            </div>
          </div>
        </div>
        <br>

        <!-- Interests -->
        <div class="w3-card w3-round w3-white w3-hide-small">
          <div class="w3-container">
            <p>Interests</p>
            <p>
            <p class="w3-sans-serif" style="font-size: 18px;">Testing text</p>
            <span class="w3-tag w3-small w3-theme-d5">News</span>
            <span class="w3-tag w3-small w3-theme-d4">W3Schools</span>
            <span class="w3-tag w3-small w3-theme-d3">Labels</span>
            <span class="w3-tag w3-small w3-theme-d2">Games</span>
            <span class="w3-tag w3-small w3-theme-d1">Friends</span>
            <span class="w3-tag w3-small w3-theme">Games</span>
            <span class="w3-tag w3-small w3-theme-l1">Friends</span>
            <span class="w3-tag w3-small w3-theme-l2">Food</span>
            <span class="w3-tag w3-small w3-theme-l3">Design</span>
            <span class="w3-tag w3-small w3-theme-l4">Art</span>
            <span class="w3-tag w3-small w3-theme-l5">Photos</span>
            </p>
          </div>
        </div>
        <br>

        <!-- Alert Box -->
        <div
          class="w3-container w3-display-container w3-round w3-theme-l4 w3-border w3-theme-border w3-margin-bottom w3-hide-small">
          <span onclick="this.parentElement.style.display='none'" class="w3-button w3-theme-l3 w3-display-topright">
            <i class="fa fa-remove"></i>
          </span>
          <p><strong>Hey!</strong></p>
          <p>People are looking at your profile. Find out who.</p>
        </div>
      </div>

      <!-- Middle Column -->
      <div class="w3-col m7" style="padding:0px;">
        <div class="w3-row-padding">
          <div class="w3-col m12">
            <div class="w3-card w3-round w3-white">
              <div class="w3-container w3-padding">
                <div style="text-align:center">
                  <h1>BLOGGING FOR FUN</h1>
                </div>
                <div class="w3-container w3-card W3-FloralWhite w3-round w3-margin"
                  style="margin-bottom:10px;padding:0px">
                  <br>
                  <div class="w3-container w3-sans-serif post-container">
                    <div class="w3-card-4 post-header"
                      style="width:100%;height:200px;margin-bottom:20px;border-radius: 5px;">
                      <header class="w3-container w3-light-grey">
                        <h3>Welcome</h3>
                      </header>
                      <div class="w3-container">
                        <img src="images/blogging.jpg" alt="Author's profile picture" class="w3-left w3-margin-right"
                          style="width:150px;margin-bottom:10px">
                        <h3>No one seems to blog for fun nowadays.</h3><br>
                      </div>

                    </div>
                    <div class="content w3-justify">
                      <p>It seems that the world has moved on to other things, like TikTok, Instagram, and other social
                        media. I remember when I first started blogging, it was a way to express myself and share my
                        thoughts with the world. Now it seems that everyone is more interested in short videos and
                        pictures than in reading long posts.</p>
                      <p>But I still love blogging. It allows me to think deeply about topics that interest me and share
                        my ideas with others. I hope that one day people will return to blogging for fun, but until
                        then, I will continue to write for myself.</p>
                    </div>
                  </div>



                  <div class="w3-container input-form" style="padding: 10px;">
                    <h3 id="editType">Create New Post</h3>
                    <form id="new-post-form" class="w3-form">
                      <label for="post-key">Post Key (unique ID)</label>
                      <input type="text" id="post-key" class="w3-input w3-margin-bottom" placeholder="e.g., post-123"
                        required aria-describedby="post-key-error">
                      <span id="post-key-error" class="w3-text-red" style="display:none;">Key must be unique.</span>
                      <label for="post-headlinex">Headline</label>
                      <input type="text" id="post-headlinex" class="w3-input w3-margin-bottom"
                        placeholder="Post Headline" required>
                      <label for="post-teaser">Teaser</label>
                      <input type="text" id="post-teaser" class="w3-input w3-margin-bottom"
                        placeholder="Short teaser text" required>
                      <label for="post-content">Content</label>
                      <textarea id="post-content" class="w3-input w3-margin-bottom"
                        placeholder="Post content (supports HTML)" rows="5" required></textarea>
                      <label for="post-imagex">Image (optional)</label>
                      <input type="file" id="post-imagex" class="w3-input w3-margin-bottom" accept="image/*">
                      <p id="current-image" class="w3-text-grey">Current Image: None</p>
                      <label for="post-date">Date (optional, defaults to today)</label>
                      <input type="date" id="post-date" class="w3-input w3-margin-bottom">
                      <button type="submit" class="w3-button w3-theme-d2">Save Post</button>

                      <!-- New button to hide the form -->
                      <button type="button" class="w3-button w3-theme-l4 w3-right" onclick="hideForm()">Cancel</button>


                    </form>
                  </div>

                  <script>
                    const postKey = document.getElementById("post-key");
                    //      postKey.value = Date.now();
                    postKey.readOnly = true; // Make the key read-only
                    postKey.addEventListener("focus", function () {
                      this.blur(); // Prevents the user from focusing on the input field
                    });

                  </script>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column -->
      <div class="w3-col m3">
        <div class="w3-card w3-round w3-white w3-center">
          <div class="w3-container">
            <div class="w3-card w3-round w3-white w3-center">
              <div class="w3-container">
                <p>All posts:</p>
                <!-- Add the Create New Post button -->
                <button class="w3-button w3-theme-d2 w3-margin-bottom" onclick="setupPostForm()">Create New
                  Post</button>
                <div id="side-menu"></div>
              </div>
            </div>
            <p>All posts:</p>
            <div id="side-menu"></div>
          </div>
        </div>
        <br>
        <div class="w3-card w3-round w3-white w3-center">

          <div class="w3-container">
            <p>Storage Operations</p>

            <div class="w3-card w3-round w3-white w3-center">
              <div class="w3-container">
                <p>Storage Operations</p>
                <p><button onclick="CRUD.deleteAllPosts()" class="w3-button w3-block w3-theme-l4">Clear Storage</button>
                </p>
                <p><button onclick="downloadPosts()" class="w3-button w3-block w3-theme-l4">Download Posts</button></p>
                <p><button onclick="uploadPosts()" class="w3-button w3-block w3-theme-l4">Upload Posts</button></p>
              </div>
            </div>

          </div>


        </div>
        <br>

        <br>
        <div class="w3-card w3-round w3-white w3-padding-16 w3-center">
          <p>ADS</p>
        </div>
        <br>
        <div class="w3-card w3-round w3-white w3-padding-32 w3-center">
          <p><i class="fa fa-bug w3-xxlarge"></i></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="w3-container w3-theme-d3 w3-padding-16">
    <h5>Footer</h5>
  </footer>
  <footer class="w3-container w3-theme-d5">
    <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
    <p>
    <h6 class="w3-opacity">Template by w3.css</h6>
    </p>
  </footer>

  <script>
    // Accordion
    function myFunction(id) {
      var x = document.getElementById(id);
      if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
        x.previousElementSibling.className += " w3-theme-d1";
      } else {
        x.className = x.className.replace("w3-show", "");
        x.previousElementSibling.className = x.previousElementSibling.className.replace(" w3-theme-d1", "");
      }
    }

    // Used to toggle the menu on smaller screens when clicking on the menu button
    function openNav() {
      var x = document.getElementById("navDemo");
      if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
      } else {
        x.className = x.className.replace(" w3-show", "");
      }
    }
  </script>
</body>

</html>